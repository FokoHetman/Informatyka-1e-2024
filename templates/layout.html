<style>
@media (min-width:320px)  { 
  /* smartphones, portrait iPhone, portrait 480x320 phones (Android) */
  .lib_panel {
    width: 8%;
    display: block;
  }  
}

@font-face {
  font-family: DaysOne;
  src: url("{{url_for('static', filename='fonts/DaysOne-Regular.ttf')}}") format('truetype');
}

a {
  color: rgba(200, 200, 200, 0.8);
}
a:link {
  color: rgba(200, 200, 200, 0.8);
}

body, html {
  background-repeat: no-repeat;
  background-size: 100% 100%;
  font-family: DaysOne;
  height: 100%;
  
}
.center {
  width: 50%;
  position: relative;
  margin: auto;
  text-align: center;
}

.panel {
  right: 0.7%;
  width: 100%;
  height: 6%;
  position: relative;
  display: flex;
  bottom: 7px;
  background-color: rgba(0, 0, 0, 0.7);
  padding: 10px;
  vertical-align: middle;
}

.element {
  bottom: 25%;  
  width: 20%;
  height: 100%;
  position: relative;
  margin-right: 1%;
  text-align: center;
  transition: 1s;
  font-size: 16px;
}

.element:hover {
  transform: scale(1.2);
  opacity: 1;
}
.embed {
  position: absolute;
  font-size: 12px;
  font: DaysOne;
  left: 25%;
  bottom: 50%;

}
.query {
  border: 1px solid black;
  border-radius: 5px;
  font: DaysOne;
  margin-bottom: 1.5%;
  display: block;
}
.btn {
  border: 1px solid black;
  border-radius: 5px;
  width: 45%;
}




.logo {
//  background-image: url("{{url_for('static', filename='images/logo.png')}}");
//  background-repeat: no-repeat;
//  background-size: 100% 100%; 
//  object-fit: cover;
//  height: 140%;
//  width: 3.5%;
}
img {
  position: relative;
  max-width: 16%;
  bottom: 25%;
}





.lib_panel {
  display: block;
  position: relative;
  color: white;
  width: 2%;
  right: 0.3%;
  background-color: rgba(100, 100, 100, 0.7);
  font-size: 0.1px;
  height: 50%;
  transition: 1s;
  top: 10%;
  border: 1px solid black;
  border-radius: 0% 15% 15% 0%;
}
.lib_panel:hover {
  width: 20%;
  font-size: 12px;
  display: block;
  .lib-panelbtn {
    display: block;
  }
}
.lib-panelbtn {
  display: none;
}
.textblock {
  background-color: rgba(25, 25, 25, 0.4);
  color: white;
  border: 2px solid black;
  border-radius: 5px;
  padding: 25px;
  width: 75%;
  font-size: 120%;
  text-align: left;
}

.paneltxt {
  position: relative;
  top: 50%;
}


</style>

<html>
<head>
  <title> {% block title %} {% endblock %}</title>
  
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div class="all">


  {% if session["user_id"] %}
    <div id="panel" class="panel center">
    </div>
  {% else %}
    <div id="panel2" class="panel center">
    </div>
  {% endif %}
  {% if session["user_id"] and library %}
  <div id="lib_panel" class="lib_panel">
    <h1> Library: </h1>
      {% for i in games %}
        <div id="game-libpanel" class="game-libpanel">
          <img src=i[-1]></img>
          <h2> title </h2>
      {% endfor %}
  {% endif %}
  </div>

  <div id="embed" class="embed center">
  {% block embed %} {% endblock %}
  </div>
</div>


<script>

function addPanelElement(hrf, name, id, add, notext) {
  var panel = document.getElementById(id);
  var a = document.createElement("a");
  if (!notext) {
    a.innerText=name;
  }
  a.href=hrf;
  a.className="paneltxt";
  a.id = "a"+name;

  var div = document.createElement("div");
  div.id=name;
  div.className="element";
  if (add) {
    div.className="element " + add;
  }

  panel.appendChild(div);
  document.getElementById(name).appendChild(a);
}

{% if not session["user_id"] %}
  addPanelElement("/", "{{website_name}}", "panel2", "logo", true);
  addPanelElement("about", "About", "panel2", "about");
  addPanelElement("browse", "Browse", "panel2", "browse");
  addPanelElement("basket", "Basket", "panel2", "basket");
  addPanelElement("library", "Library", "panel2", "library");


  addPanelElement("login", "Login", "panel2", "loginpart");
  addPanelElement("register", "Register", "panel2", "loginpart");
{% else %}
  addPanelElement("/", "{{website_name}}", "panel", "logo", true);
  addPanelElement("about", "About", "panel", "about");
  addPanelElement("browse", "Browse", "panel", "browse");
  addPanelElement("basket", "Basket", "panel", "basket");
  addPanelElement("library", "Library", "panel", "library");


  addPanelElement("profile", "profile", "panel", "profile", true);
{% endif %}

function swapImg(obj, src) {
  img = document.createElement("img");
  img.src=src;
  obj.appendChild(img);
}

swapImg(document.getElementById("a{{website_name}}"), "{{url_for('static', filename='images/logo.png')}}");
{% if session["user_id"] %}
swapImg(document.getElementById("aprofile"), "{{url_for('static', filename='images/profiles/' + str(session['user_id']) + '.png')}}");
{% else %}
swapImg(document.getElementById("aprofile"), 
  "{{url_for('static', filename=dbs.execute('SELECT val FROM dynamic WHERE var=\'defprof\''))}}");

{% endif %}

</script>
</body>
</html>

